

A plan for the example problem is: 
Pick up b2, put down b2, stack b5 on top of b4, pick up b6, put down b6, stack b6 on top of b10, pick up b7, put down b7, stack b7 on top of b3, pick up b9, put down b9, stack b9 on top of b5, pick up b10, put down b10, stack b10 on top of b9, pick up b11, put down b11, stack b11 on top of b1.