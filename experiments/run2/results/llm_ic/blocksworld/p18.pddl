

A plan for the example problem is: 
Pick up b10, put down b10, unstack b10 from b2, pick up b4, put down b4, stack b1 on top of b4, pick up b7, put down b7, stack b3 on top of b7, pick up b6, put down b6, stack b5 on top of b6, pick up b11, put down b11, stack b4 on top of b11, pick up b8, put down b8, stack b3 on top of b8, pick up b9, put down b9, stack b10 on top of b9.