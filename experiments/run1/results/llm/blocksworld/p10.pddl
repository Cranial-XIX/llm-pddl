

The optimal plan to solve the problem is as follows:

1. Pickup b6
2. Putdown b6 on top of b3
3. Pickup b2
4. Putdown b2 on top of b5
5. Pickup b4
6. Putdown b4 on top of b7
7. Pickup b7
8. Putdown b7 on top of b1
9. Pickup b3
10. Putdown b3 on top of b2
11. Pickup b1
12. Putdown b1 on top of b4
13. Pickup b5
14. Putdown b5 on top of b6
15. Pickup b6
16. Putdown b6 on top of b7
17. Pickup b7
18. Putdown b7 on top of b3