Sure, here is an optimal plan to solve the problem:

1. Create a block at the depot (pos-3-0).
2. Move to pos-3-1.
3. Move to pos-3-2.
4. Place the block at pos-3-2.
5. Move to pos-3-1.
6. Move to pos-3-0.
7. Repeat steps 1-6 two more times to build the block at pos-3-2 to the maximum height of 3.
8. Create a block at the depot (pos-3-0).
9. Move to pos-2-0.
10. Place the block at pos-2-0.
11. Move to pos-3-0.
12. Repeat steps 8-11 two more times to build the block at pos-2-0 to the maximum height of 3.
13. Create a block at the depot (pos-3-0).
14. Move to pos-2-0.
15. Move to pos-1-0.
16. Place the block at pos-1-0.
17. Move to pos-2-0.
18. Move to pos-3-0.
19. Repeat steps 13-18 two more times to build the block at pos-1-0 to the maximum height of 3.
20. Create a block at the depot (pos-3-0).
21. Move to pos-2-0.
22. Move to pos-1-0.
23. Move to pos-0-0.
24. Move to pos-0-1.
25. Place the block at pos-0-1.
26. Move to pos-0-0.
27. Move to pos-1-0.
28. Move to pos-2-0.
29. Move to pos-3-0.
30. Repeat steps 20-29 two more times to build the block at pos-0-1 to the maximum height of 3.
31. Create a block at the depot (pos-3-0).
32. Move to pos-2-0.
33. Move to pos-1-0.
34. Move to pos-1-1.
35. Move to pos-1-2.
36. Place the block at pos-1-2.
37. Move to pos-1-1.
38. Move to pos-1-0.
39. Move to pos-2-0.
40. Move to pos-3-0.
41. Repeat steps 31-40 two more times to build the block at pos-1-2 to the maximum height of 3.

This plan ensures that all the required positions have a block height of 3 and the robot does not have an unplaced block at the end.