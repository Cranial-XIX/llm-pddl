Given the current state of the blocks and the desired final state, the following sequence of actions should achieve the goal:

1. Unstack b3 from b8
2. Putdown b3
3. Unstack b7 from b10
4. Putdown b7
5. Unstack b2 from b5
6. Putdown b2
7. Unstack b10 from b11
8. Putdown b10
9. Unstack b6 from b1
10. Putdown b6
11. Unstack b12 from b9
12. Putdown b12
13. Unstack b5 from b7
14. Putdown b5
15. Unstack b4 from b12
16. Putdown b4
17. Pickup b10
18. Stack b10 on b8
19. Pickup b5
20. Stack b5 on b10
21. Pickup b11
22. Stack b11 on b7
23. Pickup b12
24. Stack b12 on b11
24. Pickup b6
25. Stack b6 on b12
26. Pickup b7
27. Stack b7 on b4
28. Pickup b9
29. Stack b9 on b2
30. Pickup b8
31. Stack b8 on b3

This sequence of actions should result in the desired final state of the blocks. Please note that this is one of the possible solutions and there might be other sequences of actions that can achieve the same result.